[pytest]
# handle whitespace sequences equally and do not make a
# difference between u"a" and "a" in output.
doctest_optionflags = NORMALIZE_WHITESPACE ALLOW_UNICODE
addopts = --doctest-modules --doctest-glob='*.rst'
          tests/ diceware_list.py libwordlist.py README.rst

[tox]
envlist =py27, py34, py35, pypy, flake8, coverage

[testenv]
usedevelop=True
deps=pytest
commands=
  py.test

[testenv:flake8]
deps=flake8
commands=flake8 diceware_list.py libwordlist.py setup.py tests

[testenv:coverage]
basepython=python3.4
deps=
  pytest
  pytest-cov
  #  XXX: pytest-cov and coverage do not play well together.
  coverage==4.2  
commands=py.test --cov=diceware_list.py --cov=libwordlist.py --cov-report=term-missing --cov-fail-under=100
